##!/bin/bash
source ../input_vars.sh

STARTDATE="REC_BEG"
ENDDATE="REC_END"
start=$(date -d $STARTDATE +%s)
end=$(date -d $ENDDATE +%s)
#-----------------------------------------------------------------------------------#
#default priority
MODEL1=atm1
MODEL2=atm2
MODEL3=atm3
MODEL4=atm4
#-----------------------------------------------------------------------------------#
  echo ' '                                                                 
  echo '       *****************************************************************'     
  echo "      ***                        recipe Prep                           ***"
  echo '       *****************************************************************'    
  echo ' ' 

d="$start"
echo "start date: $(date -d @$start '+%Y-%m-%d %2H')"
echo "end date: $(date -d @$end '+%Y-%m-%d %2H')"
#-----------------------------------------------------------------------------------#
#-----------------------------------------------------------------------------------#
   while [[ $d -le $end ]]
    do
    date -d @$d '+%Y-%m-%d %2H'
    YY=$(date -d @$d '+%Y')
    MM=$(date -d @$d '+%m')
    DD=$(date -d @$d '+%d')
    HH=$(date -d @$d '+%2H')
#----------------------------------------------------------------------
 if [ $d -eq $start ];then
    echo "$YY $MM $DD $HH $MODEL1 $MODEL2 $MODEL3 $MODEL4" > recipe.def
    else
    echo "$YY $MM $DD $HH $MODEL1 $MODEL2 $MODEL3 $MODEL4" >> recipe.def
 fi

#-----------------------------------------------------------------------------------#
  d=$(( $d + 3600 ))
 done
echo '       *****************************************************************'
echo "Default recipe is generated"
echo ' '
echo '       *****************************************************************'
echo "     ***                            done                               ***"
echo '       *****************************************************************'
echo ' '
#-----------------------------------------------------------------------------------#
#-----------------------------------------------------------------------------------#
#-----------------------------------------------------------------------------------#

